%%%-------------------------------------------------------------------
%%% @author Keisuke Ito <ito@mf02.komatsuelec.co.jp>
%%% @copyright (C) 2015, Keisuke Ito
%%% @doc
%%%
%%% @end
%%% Created :  8 Jul 2015 by Keisuke Ito <ito@mf02.komatsuelec.co.jp>
%%%-------------------------------------------------------------------
-module(echo).

%% API
-export([go/0, loop/0]).

%%%===================================================================
%%% API
%%%===================================================================
go() ->
    Pid = spawn(echo, loop, []),
    Pid ! {self(), hello},
    receive
        {Pid, Msg} ->
            io:format("~w~n",[Msg])
    end,
    Pid ! stop.
%%--------------------------------------------------------------------
%% @doc
%% @spec
%% @end
%%--------------------------------------------------------------------

loop() ->
    receive
        {From, Msg} ->
            From ! {self(), Msg},
            loop();
        stop ->
            true
    end.
%%--------------------------------------------------------------------
%% @doc
%% @spec
%% @end
%%--------------------------------------------------------------------

%%%===================================================================
%%% Internal functions
%%%===================================================================
